[gd_scene load_steps=16 format=3 uid="uid://br4i63m5y1qmt"]

[ext_resource type="Script" path="res://scenes/levels/level3/MountainLevel.cs" id="1_cl8hv"]
[ext_resource type="Texture2D" uid="uid://coahybowdl6xu" path="res://assets/Glacial-mountains-parallax-background_vnitti/Layers/sky.png" id="1_fncc3"]
[ext_resource type="PackedScene" uid="uid://qhu4pswy7baj" path="res://scenes/snowball/Snowball.tscn" id="1_my4fi"]
[ext_resource type="Texture2D" uid="uid://1go5qvovrelx" path="res://assets/Glacial-mountains-parallax-background_vnitti/Layers/sky_lightened.png" id="3_i8qh5"]
[ext_resource type="Texture2D" uid="uid://cyt7h86ku3rhn" path="res://assets/Glacial-mountains-parallax-background_vnitti/Layers/glacial_mountains_lightened.png" id="4_7ls1o"]
[ext_resource type="Texture2D" uid="uid://cr85h7cpnwdx" path="res://assets/Glacial-mountains-parallax-background_vnitti/Layers/clouds_mg_3.png" id="5_4pnk1"]
[ext_resource type="PackedScene" uid="uid://ciawowjochtyb" path="res://scenes/powerup/SnowPower.tscn" id="6_dh0fn"]
[ext_resource type="PackedScene" uid="uid://b8e30v0tel02y" path="res://scenes/enemies/Avalanche.tscn" id="8_70glp"]
[ext_resource type="PackedScene" uid="uid://b2elgt5fb07il" path="res://scenes/UI_scenes/DarkenScreen.tscn" id="8_m5ybj"]
[ext_resource type="PackedScene" uid="uid://bv24ynbtof7em" path="res://scenes/snowbank/Snowbank.tscn" id="9_r03cb"]
[ext_resource type="PackedScene" uid="uid://dhloll65wgpxm" path="res://scenes/levels/level3/BossTransition.tscn" id="11_mmxsw"]
[ext_resource type="PackedScene" uid="uid://bqsgnsek1wfqi" path="res://scenes/enemies/SnowEater.tscn" id="11_wl22c"]

[sub_resource type="Curve" id="Curve_65mtk"]
min_value = -200.0
max_value = 200.0
_data = [Vector2(0, 200), 0.0, 805.117, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_se1hv"]
curve = SubResource("Curve_65mtk")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_1pcgb"]
emission_shape = 3
emission_box_extents = Vector3(600, 1, 1)
particle_flag_disable_z = true
direction = Vector3(-0.5, 1, 0)
gravity = Vector3(0, 98, 0)
initial_velocity_min = 20.0
initial_velocity_max = 60.0
orbit_velocity_min = 0.0
orbit_velocity_max = 0.0
linear_accel_curve = SubResource("CurveTexture_se1hv")
scale_min = 4.0
scale_max = 4.0

[node name="MountainLevel" type="Node"]
script = ExtResource("1_cl8hv")

[node name="Background" type="Node" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="Background"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="Background/ParallaxBackground"]

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxBackground/ParallaxLayer"]
visible = false
scale = Vector2(50, 50)
texture = ExtResource("1_fncc3")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="Background/ParallaxBackground"]

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxBackground/ParallaxLayer2"]
visible = false
scale = Vector2(50, 50)
texture = ExtResource("3_i8qh5")

[node name="ParallaxLayer3" type="ParallaxLayer" parent="Background/ParallaxBackground"]
motion_scale = Vector2(0.2, 0.2)

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxBackground/ParallaxLayer3"]
position = Vector2(0, 100)
scale = Vector2(5, 5)
texture = ExtResource("4_7ls1o")

[node name="ParallaxLayer4" type="ParallaxLayer" parent="Background/ParallaxBackground"]
motion_scale = Vector2(0.4, 0.4)

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxBackground/ParallaxLayer4"]
scale = Vector2(5, 5)
texture = ExtResource("5_4pnk1")

[node name="Ground" type="StaticBody2D" parent="."]
collision_layer = 2

[node name="Polygon2D" type="Polygon2D" parent="Ground"]
color = Color(0, 0.721569, 0.929412, 1)
polygon = PackedVector2Array(3264, -1272, 3264, -472, 3200, -472, 3120, -1280)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Ground"]
scale = Vector2(10, 10)
polygon = PackedVector2Array(0, -88, 0, 32, 64, 32, 176, -48, 216, -48, 312, -128, 320, -125.6, 320, 112, -64, 112, -64, -88)

[node name="Polygon2D" type="Polygon2D" parent="Ground/CollisionPolygon2D"]

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Ground"]
position = Vector2(3904, -1592)
scale = Vector2(10, 10)
polygon = PackedVector2Array(0, 32, 64, 32, 176, -48, 216, -48, 300, -128, 320, -128, 320, 112, -64, 112, -64, 32)

[node name="Polygon2D" type="Polygon2D" parent="Ground/CollisionPolygon2D2"]

[node name="Snowball" parent="." instance=ExtResource("1_my4fi")]
position = Vector2(112, 264)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Snowball"]
remote_path = NodePath("../../Camera2D")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(112, 264)

[node name="GPUParticles2D" type="GPUParticles2D" parent="Camera2D"]
position = Vector2(0, -300)
amount = 700
process_material = SubResource("ParticleProcessMaterial_1pcgb")
lifetime = 10.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="SnowPower" parent="CanvasLayer" instance=ExtResource("6_dh0fn")]
anchors_preset = -1
anchor_right = 0.1
anchor_bottom = 0.033
offset_right = 0.0
offset_bottom = 0.16
grow_horizontal = 1
grow_vertical = 1
metadata/_edit_use_anchors_ = true

[node name="DarkenScreen" parent="CanvasLayer" instance=ExtResource("8_m5ybj")]

[node name="Powerups" type="Node" parent="."]

[node name="MapObjects" type="Node" parent="."]

[node name="Avalanche" parent="MapObjects" instance=ExtResource("8_70glp")]
position = Vector2(1498, -293)
rotation = -0.619592
Speed = 150.0

[node name="Endpoint" type="Node2D" parent="MapObjects/Avalanche"]
position = Vector2(-1054.48, 0.809631)

[node name="Avalanche2" parent="MapObjects" instance=ExtResource("8_70glp")]
position = Vector2(2820, -1032)
rotation = -0.694641
Speed = 150.0

[node name="Endpoint" type="Node2D" parent="MapObjects/Avalanche2"]
position = Vector2(-860.408, 1.62)

[node name="Avalanche3" parent="MapObjects" instance=ExtResource("8_70glp")]
position = Vector2(5392, -1880)
rotation = -0.619592
Speed = 150.0

[node name="Endpoint" type="Node2D" parent="MapObjects/Avalanche3"]
position = Vector2(-1043.44, 2.54614)

[node name="Avalanche4" parent="MapObjects" instance=ExtResource("8_70glp")]
position = Vector2(6683, -2663)
rotation = -0.759218

[node name="Endpoint" type="Node2D" parent="MapObjects/Avalanche4"]
position = Vector2(-855.825, 2.60498)

[node name="Snowbank" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(1320, -136)
rotation = -0.619592

[node name="Snowbank5" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(4864, -1472)
rotation = -0.619592

[node name="Snowbank6" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(5336, -1808)
rotation = -0.619592

[node name="Snowbank3" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(2432, -672)
rotation = -0.694641

[node name="Snowbank4" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(2800, -976)
rotation = -0.694641

[node name="Snowbank7" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(6176, -2144)
rotation = -0.767945

[node name="Snowbank8" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(6488, -2440)
rotation = -0.767945

[node name="Snowbank9" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(6832, -2768)
rotation = -0.767945

[node name="Snowbank2" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(896, 168)
rotation = -0.619592

[node name="Snowbank10" parent="MapObjects" instance=ExtResource("9_r03cb")]
position = Vector2(496, 344)

[node name="BossTransition" parent="MapObjects" instance=ExtResource("11_mmxsw")]
position = Vector2(7120, -3000)

[node name="TileMap" type="TileMap" parent="."]
format = 2

[node name="Enemies" type="Node" parent="."]

[node name="SnowEater" parent="Enemies" instance=ExtResource("11_wl22c")]
position = Vector2(3632, -1336)
